{% extends 'layout.html' %}
{% set active_page='account' %}
{%- block stylesheet %}
<link rel="stylesheet" href="{{url_for('static',filename='css/account.css')}}">
{% endblock -%}

{%- block body %}
<main class="account--main">
   
    <section class="user__account__details">

        <div class="user__picture__container">
            <img src="{{pic}}" alt="User Image" class="user__picture" loading="lazy">
        </div>

        <div class="user__details__container">
            <p><span>Name  : </span> {{current_user.fullname}}</p>
            <p><span> Username  : </span> {{current_user.username}}</p>
            <p><span> Email  : </span> {{current_user.email}}</p>
            <p><span> DOB  : </span> {{current_user.dob}}</p>
        </div>
        
    </section>

    <form autocomplete="off" method="post" enctype="multipart/form-data" class="form">
        {{form.hidden_tag()}}

        <legend>Update Account Details</legend>

        <div class="form__group">
            {{form.fullname.label}}
            {%- if form.fullname.errors %}
            {{form.fullname(class='field__error')}}
            {%- for error in form.fullname.errors %}
            <span class='error__msg'>{{error}}</span>
            {% endfor -%}
            {% else %}
            {{form.fullname(placeholder='enter your name')}}
            {% endif -%}
        </div>

        <div class="form__group">
            {{form.username.label}}
            {%- if form.username.errors %}
            {{form.username(class='field__error')}}
            {%- for error in form.username.errors %}
            <span class='error__msg'>{{error}}</span>
            {% endfor -%}
            {% else %}
            {{form.username(placeholder='enter an username')}}
            {% endif -%}
        </div>

        <div class="form__group">
            {{form.email.label}}
            {%- if form.email.errors %}
            {{form.email(class='field__error')}}
            {%- for error in form.email.errors %}
            <span class='error__msg'>{{error}}</span>
            {% endfor -%}
            {% else %}
            {{form.email(placeholder='enter your email address')}}
            {% endif -%}
        </div>

        <div class="form__group">
            {{form.picture.label()}}
            {{form.picture()}}
            {% if form.picture.errors %}
            {% for error in form.picture.errors %}
            <span class="error__msg">{{error}}</span>
            {% endfor %}
            {% endif %}

        </div>
        <div class="form__submit">
            {{form.submit}}
        </div>
    
    </form>
</main>
{% endblock -%}